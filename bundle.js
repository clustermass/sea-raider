!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t){class s{constructor(e,t,s,i=0){this.image=e,this.position=0,this.weight=i,this.inverted=!1,this.invertedImage=t,this.normalImage=e,this.long=s}invert(){this.inverted?(this.image=this.normalImage,this.inverted=!1):(this.image=this.invertedImage,this.inverted=!0)}checkIfInRange(e,t){let s=this.position+this.image.naturalWidth;return e>=this.position&&e<=s||t>=this.position&&t<=s}}let i=document.getElementById("myCanvas"),n=i.getContext("2d"),o=document.getElementById("welcome");o.classList.add("show_welcome"),document.getElementById("start").addEventListener("click",()=>(function(e=null){F.classList.add("targeta"),j.play(),G.play(),null===e?(o.classList.remove("show_welcome"),f=!1,p=0,g=0,h=0,v=0,w=0,L=0,T=0,I=0,k="",E=!1,Z=10,b=0,M=-2,x=0,B=!1,l.innerHTML=Z,a.innerHTML=b,H=(()=>{setTimeout(()=>{o.classList.add("show_welcome"),f=!1,E=!1,B=!1,r.classList.add("mask")},4e3),H=q})):(p=0,g=0,h=0,v=0,w=0,L=0,T=0,I=0,k="",f=!1,o.classList.remove("show_welcome"),E=!1,Z+=11,b=e,M+=1,B=!1,l.innerHTML=Z,a.innerHTML=b)})());let l=document.getElementById("torpedos"),a=document.getElementById("ships"),r=document.getElementById("mask"),c=document.getElementById("mutebtn");var m;c.addEventListener("click",()=>void(y?(u.forEach(e=>e.muted=!1),y=!1,c.classList.remove("soundoff"),j.play()):(u.forEach(e=>(m=e,m.muted=!0,void m.pause())),y=!0,c.classList.add("soundoff"))));let u=[];let d=!1,f=!1,p=0,g=0,h=0,v=0,w=0,L=0,T=0,I=0,k="",y=!1,E=!1,Z=10,b=0,M=-2,x=0,B=!1,_=new Image;_.src="./files/explosionscene.jpg";let A=0,C=new Image;function H(){setTimeout(()=>{o.classList.add("show_welcome"),f=!1,E=!1,B=!1,r.classList.add("mask")},4e3),H=q}C.src="./files/fire.png";let D=!0,O=[];function R(){let e=new Image;e.src="./files/ship1.png";let t=new Image;t.src="./files/ship1i.png";let i=new Image;i.src="./files/ship2.png";let n=new Image;n.src="./files/ship2i.png";let o=new Image;o.src="./files/ship3.png";let l=new Image;l.src="./files/ship3i.png";let a=new Image;a.src="./files/ship4.png";let r=new Image;r.src="./files/ship4i.png";let c=new s(e,t,90),m=new s(i,n,110),u=new s(o,l,110),d=new s(a,r,110);if((O=[]).push(m),O.push(u),O.push(d),O=function(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}(O),D){c.position=820;for(let e=0;e<O.length;e++)O[e].position=0===e?c.position+c.long+Math.floor(546*Math.random()+45):O[e-1].position+O[e-1].long+Math.floor(546*Math.random()+45);O.unshift(c)}else{c.invert(),c.position=0;for(let e=0;e<O.length;e++)0===e?(O[e].position=-c.position-c.long-Math.floor(546*Math.random()+45),O[e].invert()):(O[e].position=O[e-1].position-O[e-1].long-Math.floor(546*Math.random()+45),O[e].invert());O.push(c)}}R();let P=new Audio("./files/launch_sound2.mp3"),S=new Audio("./files/explosion.mp3"),G=new Audio("./files/siren.mp3"),j=new Audio("./files/ambient.mp3");j.volume=.05,j.loop=!0,u.push(P),u.push(S),u.push(G),u.push(j),window.onmousemove=(e=>{!function(e){let t=e.clientX-i.getBoundingClientRect().x;t>=205&&t<=795&&(s=t-798,F.style.left=s+"px",F.style.top="58px");var s}(e=e||window.event)});let F=document.getElementById("target");var X;function V(e,t){return_value=!1;for(let s=0;s<O.length;s++)O[s].checkIfInRange(e,t)&&(return_value=!0);return return_value}function W(){k="rgba(255, 50, 50, 0.2)",setTimeout(()=>k="rgba(255, 50, 50, 0.3)",75),setTimeout(()=>k="rgba(255, 50, 50, 0.4)",150),setTimeout(()=>k="rgba(255, 50, 50, 0.3)",200),setTimeout(()=>k="rgba(255, 50, 50, 0.3)",275)}function Y(e){p=489,g=514,h=511,v=514,w=511,L=527,T=489,I=527,W(),p=489+e,h=511+e,w=511+e,T=489+e;for(let e=350;e<=2450;e+=350)setTimeout(()=>{W(),g-=16,v-=16,L-=16,I-=16},e)}function $(){if(n.clearRect(0,0,i.width,i.height),n.imageSmoothingEnabled=!0,f&&(n.beginPath(),n.moveTo(p,g),n.lineTo(h,v),n.lineTo(w,L),n.lineTo(T,I),n.closePath(),n.fillStyle=k,n.fill()),B)n.drawImage(_,0,0),n.drawImage(C,A,265);else{for(let e=0;e<O.length;e++)n.drawImage(O[e].image,O[e].position,360);!function(){if(0===O.filter(e=>e.position>0).length&&D?R():0!==O.filter(e=>e.position<1e3).length||D||R(),M===x)if(x=0,D)for(let e=0;e<O.length;e++)O[e].position--;else for(let e=0;e<O.length;e++)O[e].position++;else if(M>0)if(D)for(let e=0;e<O.length;e++)O[e].position=O[e].position-M;else for(let e=0;e<O.length;e++)O[e].position=O[e].position+M;else x--}()}}function q(){}F.style.top="58px",F.addEventListener("click",e=>{X=e.clientX-i.getBoundingClientRect().x,f||(Z--,l.innerHTML=Z,P.pause(),P.currentTime=0,P.play(),f=!0,X>=0&&X<=274?Y(-270):X>=275&&X<=364?Y(-180):X>=365&&X<=454?Y(-90):X>=455&&X<=544?Y(0):X>=545&&X<=634?Y(90):X>=635&&X<=724?Y(180):X>=725&&X<=1e3&&Y(270),setTimeout(()=>{p=0,g=0,h=0,v=0,w=0,L=0,T=0,I=0;let e=function(e){return e>=0&&e<=274?e>=0&&e<=214?V(185,214)?"A":"Z":e>=215&&e<=244?V(215,244)?"A":"Z":V(245,274)?"A":"Z":e>=275&&e<=364?e>=275&&e<=304?V(275,304)?"B":"Z":e>=305&&e<=334?V(305,334)?"B":"Z":V(335,364)?"B":"Z":e>=365&&e<=454?e>=365&&e<=394?V(365,394)?"C":"Z":e>=395&&e<=424?V(395,424)?"C":"Z":V(425,454)?"C":"Z":e>=455&&e<=544?e>=455&&e<=484?V(455,484)?"D":"Z":e>=485&&e<=514?V(485,514)?"D":"Z":V(515,544)?"D":"Z":e>=545&&e<=634?e>=545&&e<=574?V(545,574)?"E":"Z":e>=575&&e<=604?V(575,604)?"E":"Z":V(605,634)?"E":"Z":e>=635&&e<=724?e>=635&&e<=664?V(635,664)?"F":"Z":e>=665&&e<=694?V(665,694)?"F":"Z":V(695,724)?"F":"Z":e>=725&&e<=1e3?e>=725&&e<=754?V(725,754)?"G":"Z":e>=755&&e<=784?V(755,784)?"G":"Z":V(785,814)?"G":"Z":void 0}(X);"Z"===e&&(f=!1),function(e){if("Z"!=e)if(P.pause(),P.currentTime=0,B=!0,S.play(),b++,a.innerHTML=b,function(e){switch(e){case"A":r.classList.remove("mask"),A=176,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"B":r.classList.remove("mask"),A=266,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"C":r.classList.remove("mask"),A=356,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"D":r.classList.remove("mask"),A=446,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"E":r.classList.remove("mask"),A=536,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"F":r.classList.remove("mask"),A=626,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500);break;case"G":r.classList.remove("mask"),A=716,setTimeout(()=>{r.classList.add("mask"),B=!1,f=!1},1500)}}(e),D){D=!1;for(let e=0;e<O.length;e++)O[e].invert()}else{D=!0;for(let e=0;e<O.length;e++)O[e].invert()}}(e),0===Z&&0===b?E=!0:0===Z&&b%10!=0?E=!0:"Z"!=e&&b%10==0&&(d=!0)},2800))}),setInterval(function(){E?(j.pause(),n.font="35px Arial",n.fillStyle="#0E1E3D",F.classList.remove("targeta"),f=!0,n.fillText("GAME OVER",400,250),n.fillText(`TOTAL SHIPS DESTROYED: ${b}`,270,300),H()):(d&&(d=!1,setTimeout(()=>{G.play(),Z+=11,x=0,M+=1,l.innerHTML=Z,B=!1},1500)),$())},10)}]);
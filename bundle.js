!function(e){var s={};function t(i){if(s[i])return s[i].exports;var o=s[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=s,t.d=function(e,s,i){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p="",t(t.s=0)}([function(e,s){class t{constructor(e,s,t,i=0){this.image=e,this.position=0,this.weight=i,this.inverted=!1,this.invertedImage=s,this.normalImage=e,this.long=t}invert(){this.inverted?(this.image=this.normalImage,this.inverted=!1):(this.image=this.invertedImage,this.inverted=!0)}checkIfInRange(e,s){let t=this.position+this.image.naturalWidth;return e>=this.position&&e<=t||s>=this.position&&s<=t}}let i=document.getElementById("myCanvas"),o=i.getContext("2d"),n=document.getElementById("welcome");n.classList.add("show_welcome"),document.getElementById("start").addEventListener("click",()=>B());let l=document.getElementById("torpedos"),a=document.getElementById("ships"),r=document.getElementById("mask"),m=document.getElementById("mutebtn");var c;m.addEventListener("click",()=>void(y?(d.forEach(e=>e.muted=!1),y=!1,m.classList.remove("soundoff"),D.play()):(d.forEach(e=>(c=e,c.muted=!0,void c.pause())),y=!0,m.classList.add("soundoff"))));let d=[];let u=!1,p=0,f=0,h=0,g=0,v=0,L=0,k=0,b=0,w="",y=!1,I=!1,T=10,x=0,Z=5,E=0,M=!1;function B(e=null){D.play(),R.play(),null===e?(n.classList.remove("show_welcome"),u=!1,p=0,f=0,h=0,g=0,v=0,L=0,k=0,b=0,w="",I=!1,T=10,x=0,Z=-2,E=0,M=!1,l.innerHTML=T,a.innerHTML=x):(n.classList.remove("show_welcome"),I=!1,T+=11,x=e,Z+=1,M=!1,l.innerHTML=T,a.innerHTML=x)}let C=!0,_=[];function A(){let e=new Image;e.src="./files/ship1.png";let s=new Image;s.src="./files/ship1i.png";let i=new Image;i.src="./files/ship2.png";let o=new Image;o.src="./files/ship2i.png";let n=new Image;n.src="./files/ship3.png";let l=new Image;l.src="./files/ship3i.png";let a=new Image;a.src="./files/ship4.png";let r=new Image;r.src="./files/ship4i.png";let m=new t(e,s,90),c=new t(i,o,110),d=new t(n,l,110),u=new t(a,r,110);if((_=[]).push(c),_.push(d),_.push(u),_=function(e){for(let s=e.length-1;s>0;s--){const t=Math.floor(Math.random()*(s+1));[e[s],e[t]]=[e[t],e[s]]}return e}(_),C){m.position=820;for(let e=0;e<_.length;e++)_[e].position=0===e?m.position+m.long+Math.floor(546*Math.random()+45):_[e-1].position+_[e-1].long+Math.floor(546*Math.random()+45);_.unshift(m)}else{m.invert(),m.position=0;for(let e=0;e<_.length;e++)0===e?(_[e].position=-m.position-m.long-Math.floor(546*Math.random()+45),_[e].invert()):(_[e].position=_[e-1].position-_[e-1].long-Math.floor(546*Math.random()+45),_[e].invert());_.push(m)}}A();let H=new Audio("./files/launch_sound2.mp3"),P=new Audio("./files/explosion.mp3"),R=new Audio("./files/siren.mp3"),D=new Audio("./files/ambient.mp3");D.volume=.05,D.loop=!0,d.push(H),d.push(P),d.push(R),d.push(D);let F=!1,G=!1;document.addEventListener("keydown",function(e){39==e.keyCode?F=!0:37==e.keyCode&&(G=!0)},!1),document.addEventListener("keyup",function(e){39==e.keyCode?F=!1:37==e.keyCode&&(G=!1)},!1),window.onmousemove=(e=>{!function(e){let s=e.clientX-i.getBoundingClientRect().x;s>=205&&s<=795&&(t=s-798,O.style.left=t+"px",O.style.top="58px");var t}(e=e||window.event)});document.getElementById("myCanvas");let O=document.getElementById("target");var j;function S(e,s){return_value=!1;for(let t=0;t<_.length;t++)_[t].checkIfInRange(e,s)&&(return_value=!0);return return_value}function X(e){return e>=0&&e<=274?e>=0&&e<=214?S(185,214)?"A":"Z":e>=215&&e<=244?S(215,244)?"A":"Z":S(245,274)?"A":"Z":e>=275&&e<=364?e>=275&&e<=304?S(275,304)?"B":"Z":e>=305&&e<=334?S(305,334)?"B":"Z":S(335,364)?"B":"Z":e>=365&&e<=454?e>=365&&e<=394?S(365,394)?"C":"Z":e>=395&&e<=424?S(395,424)?"C":"Z":S(425,454)?"C":"Z":e>=455&&e<=544?e>=455&&e<=484?S(455,484)?"D":"Z":e>=485&&e<=514?S(485,514)?"D":"Z":S(515,544)?"D":"Z":e>=545&&e<=634?e>=545&&e<=574?S(545,574)?"E":"Z":e>=575&&e<=604?S(575,604)?"E":"Z":S(605,634)?"E":"Z":e>=635&&e<=724?e>=635&&e<=664?S(635,664)?"F":"Z":e>=665&&e<=694?S(665,694)?"F":"Z":S(695,724)?"F":"Z":e>=725&&e<=1e3?e>=725&&e<=754?S(725,754)?"G":"Z":e>=755&&e<=784?S(755,784)?"G":"Z":S(785,814)?"G":"Z":void 0}function W(){w="rgba(255, 50, 50, 0.2)",setTimeout(()=>w="rgba(255, 50, 50, 0.3)",75),setTimeout(()=>w="rgba(255, 50, 50, 0.4)",150),setTimeout(()=>w="rgba(255, 50, 50, 0.3)",200),setTimeout(()=>w="rgba(255, 50, 50, 0.3)",275)}function q(e){p=489,f=514,h=511,g=514,v=511,L=527,k=489,b=527,W(),p=489+e,h=511+e,v=511+e,k=489+e;for(let e=350;e<=2450;e+=350)setTimeout(()=>{W(),f-=16,g-=16,L-=16,b-=16},e)}function z(){if(o.clearRect(0,0,i.width,i.height),o.imageSmoothingEnabled=!0,u&&(o.beginPath(),o.moveTo(p,f),o.lineTo(h,g),o.lineTo(v,L),o.lineTo(k,b),o.closePath(),o.fillStyle=w,o.fill()),!M){for(let e=0;e<_.length;e++)o.drawImage(_[e].image,_[e].position,360);!function(){if(0===_.filter(e=>e.position>0).length&&C?A():0!==_.filter(e=>e.position<1e3).length||C||A(),Z===E)if(E=0,C)for(let e=0;e<_.length;e++)_[e].position--;else for(let e=0;e<_.length;e++)_[e].position++;else if(Z>0)if(C)for(let e=0;e<_.length;e++)_[e].position=_[e].position-Z;else for(let e=0;e<_.length;e++)_[e].position=_[e].position+Z;else E--}()}}O.style.top="58px",O.addEventListener("click",e=>{j=e.clientX-i.getBoundingClientRect().x,u||(T--,l.innerHTML=T,H.pause(),H.currentTime=0,H.play(),u=!0,j>=0&&j<=274?q(-270):j>=275&&j<=364?q(-180):j>=365&&j<=454?q(-90):j>=455&&j<=544?q(0):j>=545&&j<=634?q(90):j>=635&&j<=724?q(180):j>=725&&j<=1e3&&q(270),setTimeout(()=>{p=0,f=0,h=0,g=0,v=0,L=0,k=0,b=0,"Z"!=X(j)?setTimeout(()=>u=!1,2e3):u=!1,function(e){if("Z"!=e)if(H.pause(),H.currentTime=0,M=!0,P.play(),x++,a.innerHTML=x,x%10==0&&setTimeout(()=>B(x),2300),function(e){switch(e){case"A":r.classList.remove("mask"),i.classList.add("explosiona"),r.classList.add("maskb"),setTimeout(()=>{i.classList.remove("explosiona"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"B":r.classList.remove("mask"),i.classList.add("explosionb"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosionb"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"C":r.classList.remove("mask"),i.classList.add("explosionc"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosionc"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"D":r.classList.remove("mask"),i.classList.add("explosiond"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosiond"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"E":r.classList.remove("mask"),i.classList.add("explosione"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosione"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"F":r.classList.remove("mask"),i.classList.add("explosionf"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosionf"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3);break;case"G":r.classList.remove("mask"),i.classList.add("explosiong"),r.classList.remove("maskb"),setTimeout(()=>{i.classList.remove("explosiong"),r.classList.remove("maskb"),r.classList.add("mask"),M=!1},2e3)}}(e),C){C=!1;for(let e=0;e<_.length;e++)_[e].invert()}else{C=!0;for(let e=0;e<_.length;e++)_[e].invert()}}(X(j)),0===T&&(I=!0)},2800))}),setInterval(function(){I?(n.classList.add("show_welcome"),D.pause()):z()},10)}]);
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./source.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./source.js":
/*!*******************!*\
  !*** ./source.js ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n\n// window.onload = ()=>{\n//   img = document.getElementById(\"scream\");\n// }\nclass Ship{\n\n  constructor(image,invertedImage, long, weight = 0){\n    this.image = image;\n    this.position = 0;\n    this.weight = weight;\n    this.inverted = false;\n    this.invertedImage = invertedImage;\n    this.normalImage = image;\n    this.long = long; //We need this to calculate random intervals between ships\n\n  }\n\ninvert(){\n    if (this.inverted){\n      this.image = this.normalImage;\n      this.inverted = false;\n    }\n    else{\n      this.image = this.invertedImage;\n      this.inverted = true;\n    }\n  }\n\ncheckIfInRange(from,to){\n    let tail = this.position + this.image.naturalWidth\n    if(from >= this.position && from <= tail){\n      return true\n    }\n    else if (to >= this.position && to <= tail){\n      return true\n    }\n    else{\n      return false\n    }\n  }\n\n}\n\nlet canvas = document.getElementById(\"myCanvas\");\nlet ctx = canvas.getContext(\"2d\");\nlet mainScreen = document.getElementById(\"welcome\");\nmainScreen.classList.add('show_welcome');\nlet startButton = document.getElementById(\"start\");\nstartButton.addEventListener('click', ()=>(startGame()) )\nlet displayTorpedos = document.getElementById(\"torpedos\");\nlet displayDestroyedShips = document.getElementById(\"ships\");\n\nlet torpedoFired = false;\nlet torpedoShapeX = 0;\nlet torpedoShapeY = 0;\nlet torpedoFMoveToX = 0;\nlet torpedoFMoveToY = 0;\nlet torpedoSMoveToX = 0;\nlet torpedoSMoveToY = 0;\nlet torpedoTMoveToX = 0;\nlet torpedoTMoveToY = 0;\nlet torpedoFillColor = \"\";\n\nlet gameIsOver = false;\nlet torpedosQuantity = 10;\nlet destroyedShips = 0;\nlet movementSpeed = 5\nlet movementSpeedCount = 0;\n\nfunction startGame(score = null){\n  if (score === null ){\n  mainScreen.classList.remove('show_welcome');\n  torpedoFired = false;\n  torpedoShapeX = 0;\n  torpedoShapeY = 0;\n  torpedoFMoveToX = 0;\n  torpedoFMoveToY = 0;\n  torpedoSMoveToX = 0;\n  torpedoSMoveToY = 0;\n  torpedoTMoveToX = 0;\n  torpedoTMoveToY = 0;\n  torpedoFillColor = \"\";\n\n  gameIsOver = false;\n  torpedosQuantity = 10;\n  destroyedShips = 0;\n  movementSpeed = -2\n  movementSpeedCount = 0;\n  displayTorpedos.innerHTML = torpedosQuantity\n  displayDestroyedShips.innerHTML = destroyedShips\n}else{\n  gameIsOver = false;\n  torpedosQuantity = torpedosQuantity + 11\n  destroyedShips = score\n  movementSpeed = movementSpeed + 1\n  displayTorpedos.innerHTML = torpedosQuantity\n  displayDestroyedShips.innerHTML = destroyedShips\n}\n}\n\n// let ship1Pos = 815\n// let ship2Pos = 910\n\nfunction shuffleArray(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n}\n\n// let ship2= new Ship(document.getElementById(\"ship2\"),document.getElementById(\"ship2i\"),)\n\n\nlet leftdirection = true\nlet shipsArray = []\n\ngenerateShipsArray()\n\nfunction generateShipsArray(){\n  let ship1= new Ship(document.getElementById(\"ship1\"),document.getElementById(\"ship1i\"),90)\n  let ship2 = new Ship(document.getElementById(\"ship2\"),document.getElementById(\"ship2i\"),110)\n  let ship3 = new Ship(document.getElementById(\"ship2\"),document.getElementById(\"ship2i\"),110)\n  let ship4 = new Ship(document.getElementById(\"ship2\"),document.getElementById(\"ship2i\"),110)\nshipsArray = []\n\n\n\nshipsArray.push(ship2)\nshipsArray.push(ship3)\nshipsArray.push(ship4)\n\nshipsArray = shuffleArray(shipsArray)\n\nif(leftdirection){\nship1.position = 820;\nfor (let i = 0; i < shipsArray.length; i++) {\n  if (i === 0){\n    shipsArray[i].position = ship1.position + ship1.long + Math.floor((Math.random() * (591 - 45) + 45))\n  }else{\n    shipsArray[i].position = shipsArray[i-1].position + shipsArray[i-1].long + Math.floor((Math.random() * (591 - 45) + 45))\n  }\n}\nshipsArray.unshift(ship1)\n}else{\n  ship1.invert()\n  ship1.position = 0;\n  for (let i = 0; i < shipsArray.length; i++) {\n    if (i === 0){\n      shipsArray[i].position = - ship1.position - ship1.long - Math.floor((Math.random() * (591 - 45) + 45))\n      shipsArray[i].invert()\n    }else{\n      shipsArray[i].position = shipsArray[i-1].position - shipsArray[i-1].long - Math.floor((Math.random() * (591 - 45) + 45))\n      shipsArray[i].invert()\n    }\n  }\n  shipsArray.push(ship1)\n}\n\n\n}\n\n\n\n// shipsArray.push(ship2)\n\n\n\nlet fire_sound = new Audio('./files/launch_sound2.mp3');\nlet explosion = new Audio('./files/explosion.mp3');\n\nlet rightPressed = false;\nlet leftPressed = false;\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\n\nwindow.onmousemove = (e)=>{\n  e = e || window.event;\n  // console.log(e)\n  setTargetCoordinates(e)\n};\n\nlet pad = document.getElementById(\"myCanvas\");\n\nlet target = document.getElementById(\"target\");\ntarget.style.top = 58 + 'px'\ntarget.addEventListener(\"click\", (e)=>{fire(e.clientX - canvas.getBoundingClientRect().x)})\n\n\nfunction moveTaget(pos){\ntarget.style.left = pos + 'px'\ntarget.style.top = 58 + 'px'\n}\n\n\nfunction setTargetCoordinates(e){\nlet xInGamePad = e.clientX - canvas.getBoundingClientRect().x //X starts at canvas\n\n  if(xInGamePad >= 205 && xInGamePad <= 795){\n    moveTaget(xInGamePad - 798 )\n  }\n\n\n  if(xInGamePad >= 0 && xInGamePad <= 1000){\n\n      // console.log(\"cursor\" +xInGamePad )\n\n      // console.log(\"cursor\" + (570 - e.clientY) )\n\n\n  }\n\n\n\n\n\n// moveTaget(e.clientX - canvas.getBoundingClientRect().x)\n}\n\nfunction keyDownHandler(e) {\n    if(e.keyCode == 39) {\n        rightPressed = true;\n    }\n    else if(e.keyCode == 37) {\n        leftPressed = true;\n    }\n}\nfunction keyUpHandler(e) {\n    if(e.keyCode == 39) {\n        rightPressed = false;\n    }\n    else if(e.keyCode == 37) {\n        leftPressed = false;\n    }\n}\n\nfunction checkIfAnyShipInRange(from, to){\nreturn_value = false\n  for (let i = 0; i < shipsArray.length; i++) {\n    if(shipsArray[i].checkIfInRange(from,to)){\n      return_value = true\n    }\n  }\n  return return_value\n}\n\n\n\nfunction checkForHit(mousePos){\n  // debugger\n  //These are canvas pixel ranges for hitting target, very close to real machine implementation\n  // | 185 - 214 |  215 - 244 | 245 - 274 | Section A\n  if(mousePos >= 0 && mousePos <= 274){\n    if(mousePos >= 0 && mousePos <= 214){\n      if(checkIfAnyShipInRange(185,214)){\n        return(\"A\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 215 && mousePos <= 244){\n      if(checkIfAnyShipInRange(215,244)){\n        return(\"A\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(245,274)){\n        return(\"A\")\n      }\n      else{\n        return (\"Z\")\n      }\n\n    }\n  }\n  //  275 - 304 | 305 - 334 | 335 - 364 | Section B\n  if(mousePos >= 275 && mousePos <= 364){\n    if(mousePos >= 275 && mousePos <= 304){\n      if(checkIfAnyShipInRange(275,304)){\n        return(\"B\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 305 && mousePos <= 334){\n      if(checkIfAnyShipInRange(305,334)){\n        return(\"B\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(335,364)){\n        return(\"B\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n  // 365 - 394 | 395 - 424 | 425 - 454 | Section C\n  if(mousePos >= 365 && mousePos <= 454){\n    if(mousePos >= 365 && mousePos <= 394){\n      if(checkIfAnyShipInRange(365,394)){\n        return(\"C\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 395 && mousePos <= 424){\n      if(checkIfAnyShipInRange(395,424)){\n        return(\"C\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(425,454)){\n        return(\"C\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n  //  455 - 484 | 485 - 514 | 515 - 544 | Section D\n  if(mousePos >= 455 && mousePos <= 544){\n    if(mousePos >= 455 && mousePos <= 484){\n      if(checkIfAnyShipInRange(455,484)){\n        return(\"D\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 485 && mousePos <= 514){\n      if(checkIfAnyShipInRange(485,514)){\n        return(\"D\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(515,544)){\n        return(\"D\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n  // 545 - 574 | 575 - 604 | 605 - 634  | Section E\n  if(mousePos >= 545 && mousePos <= 634){\n    if(mousePos >= 545 && mousePos <= 574){\n      if(checkIfAnyShipInRange(545,574)){\n        return(\"E\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 575 && mousePos <= 604){\n      if(checkIfAnyShipInRange(575,604)){\n        return(\"E\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(605,634)){\n        return(\"E\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n  // 635 - 664 | 665 - 694 | 695 - 724 | Section F\n  if(mousePos >= 635 && mousePos <= 724){\n    if(mousePos >= 635 && mousePos <= 664){\n      if(checkIfAnyShipInRange(635,664)){\n        return(\"F\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 665 && mousePos <= 694){\n      if(checkIfAnyShipInRange(665,694)){\n        return(\"F\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(695,724)){\n        return(\"F\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n  // 725 - 754 | 755 - 784 | 785 - 814| Section G\n  if(mousePos >= 725 && mousePos <= 1000){\n    if(mousePos >= 725 && mousePos <= 754){\n      if(checkIfAnyShipInRange(725,754)){\n        return(\"G\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else if(mousePos >= 755 && mousePos <= 784){\n      if(checkIfAnyShipInRange(755,784)){\n        return(\"G\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n    else{\n      if(checkIfAnyShipInRange(785,814)){\n        return(\"G\")\n      }\n      else{\n        return (\"Z\")\n      }\n    }\n  }\n\n\n\n}\n\nfunction fire(mousePos){\ntorpedosQuantity--;\ndisplayTorpedos.innerHTML = torpedosQuantity\n  if(!torpedoFired){\n    fire_sound.pause()\n    fire_sound.currentTime = 0;\n    fire_sound.play();\n    torpedoFired = true\n    if(mousePos >= 455 && mousePos <= 544){\n      setTorpedoDirection(1)\n    }\n    // Logic decides if game is over, if not, we set\n    // torpedoFired to false\n\n\n    setTimeout(()=>{\n      torpedoFired = false\n      torpedoShapeX = 0;\n      torpedoShapeY = 0;\n      torpedoFMoveToX = 0;\n      torpedoFMoveToY = 0;\n      torpedoSMoveToX = 0;\n      torpedoSMoveToY = 0;\n      torpedoTMoveToX = 0;\n      torpedoTMoveToY = 0;\n      console.log(checkForHit(mousePos))\n      evalFire(checkForHit(mousePos))\n      if(torpedosQuantity === 0){\n        gameIsOver = true; //we may need to set timeout here or move this method to another place.\n      }\n                      },2800)\n\n  }\n\n}\n\n\nfunction evalFire(sectionToFlash){\n  if(sectionToFlash != \"Z\"){\n    fire_sound.pause()\n    fire_sound.currentTime = 0;\n    explosion.play()\n    if(leftdirection){\n      leftdirection = false;\n    for (let i = 0; i < shipsArray.length; i++) {\n      shipsArray[i].invert()\n    }\n    }\n    else{\n      leftdirection = true;\n      for (let i = 0; i < shipsArray.length; i++) {\n        shipsArray[i].invert()\n      }\n    }\n    destroyedShips++ //We can set logic to restart game here, also to increase speed\n    displayDestroyedShips.innerHTML = destroyedShips\n    if(destroyedShips % 10 === 0){\n      startGame(destroyedShips)\n    }\n\n  }\n}\n\nfunction flashTrace(){\n  torpedoFillColor = \"rgba(255, 50, 50, 0.2)\";\n  setTimeout(()=>(torpedoFillColor = \"rgba(255, 50, 50, 0.3)\"),75)\n  setTimeout(()=>(torpedoFillColor = \"rgba(255, 50, 50, 0.4)\"),150)\n  setTimeout(()=>(torpedoFillColor = \"rgba(255, 50, 50, 0.3)\"),200)\n  setTimeout(()=>(torpedoFillColor = \"rgba(255, 50, 50, 0.3)\"),275)\n}\n\nfunction setTorpedoDirection(dir){\n\nswitch (dir) {\n  case 1:\nflashTrace()\ntorpedoShapeX = 489;\ntorpedoShapeY = 514;\ntorpedoFMoveToX = 511;\ntorpedoFMoveToY = 514;\ntorpedoSMoveToX = 511;\ntorpedoSMoveToY = 527;\ntorpedoTMoveToX = 489;\ntorpedoTMoveToY = 527;\n\nfor (let i = 350; i <= 2450; i = i + 350) {\n  setTimeout(()=>{\n      flashTrace()\n      torpedoShapeY = torpedoShapeY - 16;\n      torpedoFMoveToY = torpedoFMoveToY - 16;\n      torpedoSMoveToY = torpedoSMoveToY - 16;\n      torpedoTMoveToY = torpedoTMoveToY - 16;\n  }, i)\n}\n\n  case 2:\n  case 3:\n  case 4:\n  case 5:\n  case 6:\n  case 7:\n  default:\n\n}\n\n}\n\n\n\n// function drawBall() {\n//     ctx.beginPath();\n//     ctx.arc(x, y, ballRadius, 0, Math.PI*2);\n//     ctx.fillStyle = \"#0095DD\";\n//     ctx.fill();\n//     ctx.closePath();\n// }\nfunction moveShips() {\n  if(shipsArray.filter((ship)=>(ship.position > 0)).length === 0 && leftdirection){\n    generateShipsArray()\n  }else if (shipsArray.filter((ship)=>(ship.position < 1000)).length === 0 && !leftdirection) {\n    generateShipsArray()\n  }\n\n\n\n  // This will determine moving speed\n  if(movementSpeed === movementSpeedCount){\n    movementSpeedCount = 0;\n\n    if (leftdirection){\n      for (let i = 0; i < shipsArray.length; i++) {\n        shipsArray[i].position--\n      }\n    }\n    else{\n      for (let i = 0; i < shipsArray.length; i++) {\n        shipsArray[i].position++\n      }\n    }\n  }\n\n  else if(movementSpeed > 0){\n\n    if (leftdirection){\n      for (let i = 0; i < shipsArray.length; i++) {\n        shipsArray[i].position = shipsArray[i].position - movementSpeed\n      }\n    }\n    else{\n      for (let i = 0; i < shipsArray.length; i++) {\n        shipsArray[i].position = shipsArray[i].position + movementSpeed\n      }\n    }\n\n  }else{\n    movementSpeedCount--;\n  }\n}\n\nfunction renderGame(){\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.imageSmoothingEnabled = true;\n\n\n\n\n    if(torpedoFired){\n          ctx.beginPath();\n          ctx.moveTo(torpedoShapeX, torpedoShapeY)\n          ctx.lineTo(torpedoFMoveToX, torpedoFMoveToY);\n          ctx.lineTo(torpedoSMoveToX, torpedoSMoveToY);\n          ctx.lineTo(torpedoTMoveToX, torpedoTMoveToY);\n          ctx.closePath();\n          ctx.fillStyle = torpedoFillColor;\n          ctx.fill();\n\n    }\n\n    for (let i = 0; i < shipsArray.length; i++) {\n      ctx.drawImage(shipsArray[i].image, shipsArray[i].position, 360)\n    }\n      moveShips();\n    // drawBall();\n    // drawPaddle();\n    //\n    // if(x + dx > canvas.width-ballRadius || x + dx < ballRadius) {\n    //     dx = -dx;\n    // }\n    // if(y + dy > canvas.height-ballRadius || y + dy < ballRadius) {\n    //     dy = -dy;\n    // }\n    //\n    // if(rightPressed && paddleX < canvas.width-paddleWidth) {\n    //     paddleX += 7;\n    // }\n    // else if(leftPressed && paddleX > 0) {\n    //     paddleX -= 7;\n    // }\n    //\n    // x += dx;\n    // y += dy;\n}\n\nfunction render(){\n  if(!gameIsOver){\n    renderGame()\n  }else{\n    mainScreen.classList.add('show_welcome');\n  }\n}\nsetInterval(render, 10);\n\n\n//# sourceURL=webpack:///./source.js?");

/***/ })

/******/ });